---
title: ARP协议
date: 2024-07-03T17:17:04Z
tags: []
---

### 功能

根据 ip 地址查询对于的 mac 地址

### 工作原理

源设备需要发送数据会先在 ARP 缓存表中检测目标 ip 地址有没有对应的 mac 地址

如果没有源设备会构造一个 ARP 报文包含目标 ip 地址,发送给目标广播地址

目标设备收到 ARP 报文发现目标 ip 地址和自己相同,会构建一个报文将自己的 mac 地址包含在响应报文

原设备收到后会更新 ARP 缓存

设备更换 ip 地址会广播一条带有新的 ip 地址和 mac 地址的 ARP 报文
