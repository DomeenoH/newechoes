---
title: 虚拟机
date: 2024-06-06T23:51:46Z
tags: []
---

两种虚拟机管理程序(VMM)的对比

|                    | 第一类                                                                                                    | 第二类                                                                                                             |
| ------------------ | --------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------ |
| 对物理资源的控制权 | 直接运行在硬件之上,能直接控制和分配物理资源                                                               | 运行在 Host OS 字上,依赖 Host OS 为其分配物理资源                                                                  |
| 资源的分配方式     | 在安装 Guest OS 是,VMM 要在原本的硬盘上自行进行分配储存空间,类似于"外核"的分配方式,分配未经抽象的物理硬件 | CuestOS 拥有自己的虚拟磁盘,该盘实际上是 Host OS 文件系统中的一个大文件.GuestOS 分配的内存是虚拟内存                |
| 虚拟               | 虚拟更好                                                                                                  | 虚拟更差,需要 HostOS 作为"中介"                                                                                    |
| 可支持的虚拟机数量 | 更多,不需要和 Host OS 竞争资源,相同的硬件资源可以支持更多的虚拟机                                         | 更少,Host OS 本身需要使用物理资源,Host OS 上运行的其他资源也需要物理资源                                           |
| 虚拟机的可迁移性   | 更差                                                                                                      | 更好,只需导出虚拟机镜像文件即可迁移到另外一台 HostOS 上,商业化应用更广泛                                           |
| 运行模式           | 第一类 VMM 运行在最高特权级(Ring 0),可以执行最高的特权指令                                                | 第二类 VMM 部分运行在用户态,部分运行在内核态.GuestOS 发出的系统调用会被 VMM 捕获,并转化为 VMM 对 HostOS 的系统调用 |
